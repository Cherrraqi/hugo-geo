{"version":3,"sources":["hugo-geo.js"],"names":["a","jQuery","browser","mobile","test","substr","navigator","userAgent","vendor","window","opera","location","origin","protocol","hostname","port","$","document","ready","not","attr","hljs","initHighlightingOnLoad","d3","baseURL","json","error","world","Start","Date","now","width","outerWidth","height","outerHeight","rotate","velocity","projection","geo","orthographic","scale","translate","clipAngle","precision","path","graticule","svg","select","insert","append","datum","type","topojson","feature","objects","land","mesh","countries","b","selectAll","timer","dt","updateWindow","w","h","onresize"],"mappings":"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","file":"hugo-geo.js","sourcesContent":["/**\n * jQuery.browser.mobile (http://detectmobilebrowser.com/)\n *\n * jQuery.browser.mobile will be true if the browser is a mobile device\n * \n **/\n(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);\n\nif (!window.location.origin) {\n\twindow.location.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n}\n\n$(document).ready(function() {\n\t\n\t// Change all href links that go out of the origin to open in a new window\n\t$(\"a\").not(\"[href*='\" + window.location.origin + \"']\").attr(\"target\", \"new\");\n\t\n\t// Highlight all on load if highlighting\n\tif (typeof hljs !== \"undefined\") {\n\t\thljs.initHighlightingOnLoad();\n\t}\n\t\n\t// If d3 is not loaded do not show the globe\n\tif (typeof d3 === \"undefined\") {\n\t\treturn;\n\t}\n\t\n\t// Peace out if in a mobile browser\n\tif ($.browser.mobile) {\n\t\treturn;\t\n\t}\n\t\n\t// If you are hosting your site on say GitHub pages at the URL\n\t// \"person.github.com/repo-name\", loading the world.json file will\n\t// fail unless the script knows the base url it's calling from\n\t// In this example you can set window.baseURL in your template footer\n\t// and it will know the correct file path to load.\n\t// There's probably a better way but ¯\\_(ツ)_/¯\n\tif (typeof window.baseURL === \"undefined\") {\n\t\twindow.baseURL = window.location.origin;\n\t}\n\t\n\t// Load world json file\n\td3.json(window.baseURL + \"/js/world.json\", function(error, world) {\n\t\tif (error) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tvar Start = Date.now();\n\t\tvar width = $('#menu').outerWidth(true);\n\t   \tvar height = $('#menu').outerHeight(true);\n\t\tvar rotate = [10];\n\t    var velocity = [0.001];\n\t\n\t\tvar projection = d3.geo.orthographic()\n\t\t\t.scale(1000)\n\t\t\t.translate([250, height])\n\t\t\t.rotate([-80])\n\t\t\t.clipAngle(90)\n\t\t\t.precision(0.1);\n\t\n\t\tvar path = d3.geo.path()\n\t\t\t.projection(projection);\n\t\n\t\tvar graticule = d3.geo.graticule();\n\t\n\t\tvar svg = d3.select(\"#menu\").insert(\"svg\", \"#menu-content\")\n\t\t\t.attr(\"id\", \"menu-globe\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height);\n\t\n\t\tsvg.append(\"defs\").append(\"path\")\n\t\t\t.datum({type: \"Sphere\"})\n\t\t\t.attr(\"id\", \"sphere\")\n\t\t\t.attr(\"d\", path);\n\t\n\t\tsvg.append(\"use\")\n\t\t\t.attr(\"class\", \"stroke\")\n\t\t\t.attr(\"xlink:href\", \"#sphere\");\n\t\n\t\tsvg.append(\"path\")\n\t\t\t.datum(graticule)\n\t\t\t.attr(\"class\", \"graticule\")\n\t\t\t.attr(\"d\", path);\n\t\t\n\t\tsvg.insert(\"path\", \".graticule\")\n\t\t\t.datum(topojson.feature(world, world.objects.land))\n\t\t\t.attr(\"class\", \"land\")\n\t\t\t.attr(\"d\", path);\n\n\t\tsvg.insert(\"path\", \".graticule\")\n\t\t\t.datum(topojson.mesh(world, world.objects.countries, function(a, b) { return a !== b; }))\n\t\t\t.attr(\"class\", \"boundary\")\n\t\t\t.attr(\"d\", path);\n\t\t\n\t\tvar feature = svg.selectAll(\"path\");\n\n\t\td3.timer(function() {\n\t\t\tvar dt = Date.now() - Start;\n\t\t\tprojection.rotate([rotate[0] + velocity[0] * dt]);\n\t\t\tfeature.attr(\"d\", path);\n\t\t});\n\t\t\n\t\tfunction updateWindow(){\n\t\t\tvar w = $('#menu').outerWidth(true);\n\t\t\tvar h = $('#menu').outerHeight(true);\n\t\n\t\t\tsvg.attr(\"width\", w).attr(\"height\", h);\n\t\t}\n\t\twindow.onresize = updateWindow;\n\t});\n});"]}